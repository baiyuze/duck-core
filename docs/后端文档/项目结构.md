# 后端项目结构

本项目的后端服务采用典型的 Go 项目结构，旨在实现高内聚、低耦合的设计目标。

```
backend/
├── build_proto.sh       # 用于生成 gRPC 代码的脚本
├── go.mod               # Go 模块依赖管理
├── go.sum               # Go 模块校验和
├── main.go              # 应用入口
├── Readme.md            # 后端项目说明
├── config/              # 配置文件
│   ├── config.dev.yaml  # 开发环境配置
│   ├── config.go        # 配置加载逻辑
│   └── config.prod.yaml # 生产环境配置
├── docs/                # Swagger API 文档
│   ├── docs.go
│   ├── swagger.json
│   └── swagger.yaml
├── internal/            # 内部代码，不对外暴露
│   ├── common/          # 通用工具
│   │   ├── error/       # 错误处理
│   │   ├── jwt/         # JWT 认证
│   │   └── log/         # 日志记录
│   ├── di/              # 依赖注入容器
│   ├── dto/             # 数据传输对象
│   ├── grpc/            # gRPC 相关实现
│   ├── handler/         # HTTP 请求处理器
│   ├── middleware/      # 中间件
│   ├── model/           # 数据库模型
│   ├── repo/            # 数据仓库层
│   ├── router/          # 路由定义
│   └── service/         # 业务逻辑层
└── utils/               # 通用工具函数
```

## 关键目录说明

- **`config/`**: 存放应用的配置文件，通过 `Viper` 库进行加载和管理。
- **`internal/`**: 项目的核心代码，遵循 Go 的 `internal` 目录规范，外部无法直接引用。
  - **`handler/`**: 负责处理 HTTP 请求，并将请求分发到相应的 `service`。
  - **`service/`**: 包含核心的业务逻辑，处理具体的业务需求。
  - **`repo/`**: 数据访问层，负责与数据库进行交互。
  - **`model/`**: 定义了数据库表的映射结构。
  - **`router/`**: 定义了所有的 API 路由，并将它们与 `handler` 进行绑定。
  - **`middleware/`**: 存放 Gin 的中间件，如 JWT 认证、日志记录等。
  - **`grpc/`**: 包含了 gRPC 的服务端和客户端实现。
- **`main.go`**: 应用的启动文件，负责初始化配置、数据库连接、路由等。
