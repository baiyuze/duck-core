# 文档说明

## 文档目录结构

Duck-Core 项目文档已按照前后端分离的原则进行组织，文档结构如下：

```
docs/
├── 前端文档/
│   ├── 架构设计.md           # 前端 ECS 架构详细设计
│   ├── 核心功能实现.md       # 前端核心功能（渲染、交互、拾取等）
│   ├── 核心架构.md           # 核心架构概述（已有）
│   ├── 画布功能.md           # 画布功能说明（已有）
│   └── 项目结构.md           # 前端项目结构（已有）
│
├── 后端文档/
│   ├── 架构设计.md           # 后端分层架构详细设计
│   ├── 核心功能实现.md       # 后端核心功能（认证、权限、CRUD等）
│   ├── 数据库设计.md         # 数据库设计（已有）
│   ├── 项目结构.md           # 后端项目结构（已有）
│   └── API接口文档.md        # API 接口文档（已有）
│
├── en/                       # 英文文档
│   ├── README.md
│   ├── backend/
│   └── frontend/
│
├── 技术栈.md                 # 技术栈说明
└── 项目简介.md               # 项目简介
```

## 前端文档

### 📐 架构设计.md

**内容概要**：
- ECS（Entity-Component-System）架构详解
- Core 引擎设计
- Component 组件系统
- System 系统架构
- 渲染系统设计
- 交互系统设计
- 状态管理架构
- 性能优化方案
- 可扩展性设计

**适合人群**：前端开发人员、架构师

**包含图表**：
- 整体架构图
- ECS 核心概念图
- 渲染循环流程图
- 交互系统状态图
- 数据流图

### ⚙️ 核心功能实现.md

**内容概要**：
- ECS 渲染引擎实现
- 各类图形渲染器（矩形、椭圆、文本、图片等）
- 图形拾取系统（颜色编码法）
- 选择系统（单选、多选、拖拽）
- 输入系统（鼠标、键盘事件）
- 事件系统（事件队列管理）
- DSL 解析器
- Canvas 组件集成
- 性能优化技巧

**适合人群**：前端开发人员

**代码示例**：包含完整的 TypeScript 实现代码

## 后端文档

### 📐 架构设计.md

**内容概要**：
- 分层架构设计（Router、Handler、Service、Repository）
- 依赖注入（DI）架构
- 中间件架构
- gRPC 服务架构
- 配置管理架构
- 日志系统架构
- 安全架构（认证、授权、RBAC）
- 数据库架构
- 错误处理架构
- 性能优化方案

**适合人群**：后端开发人员、架构师

**包含图表**：
- 整体架构图
- 分层架构图
- DI 容器初始化流程
- 中间件执行链
- 权限验证流程图

### ⚙️ 核心功能实现.md

**内容概要**：
- 用户认证系统（登录、注册、JWT）
- RBAC 权限控制系统
- 分页查询系统
- 部门管理系统（树形结构）
- 字典管理系统
- gRPC 服务实现
- 日志系统实现
- 错误处理
- 数据库事务

**适合人群**：后端开发人员

**代码示例**：包含完整的 Go 实现代码

## 如何使用文档

### 新手入门

1. **了解项目**：先阅读 `项目简介.md` 和 `技术栈.md`
2. **前端开发**：
   - 阅读 `前端文档/架构设计.md` 了解整体架构
   - 参考 `前端文档/核心功能实现.md` 进行开发
3. **后端开发**：
   - 阅读 `后端文档/架构设计.md` 了解整体架构
   - 参考 `后端文档/核心功能实现.md` 进行开发
   - 查看 `后端文档/数据库设计.md` 了解数据模型

### 功能开发

1. **添加前端新图形类型**：
   - 参考 `前端文档/核心功能实现.md` 中的渲染器实现
   - 遵循 `前端文档/架构设计.md` 中的扩展性设计

2. **添加后端新接口**：
   - 参考 `后端文档/核心功能实现.md` 中的 CRUD 实现
   - 遵循 `后端文档/架构设计.md` 中的分层设计

### 架构理解

- **前端 ECS 架构**：阅读 `前端文档/架构设计.md`
- **后端分层架构**：阅读 `后端文档/架构设计.md`
- **数据库设计**：阅读 `后端文档/数据库设计.md`

## 文档特点

### ✅ 前后端分离
- 前端文档独立于 `docs/前端文档/`
- 后端文档独立于 `docs/后端文档/`
- 避免混淆，便于查找

### ✅ 完整的架构说明
- 详细的架构图（Mermaid）
- 清晰的模块划分
- 数据流和交互流程

### ✅ 丰富的代码示例
- 前端 TypeScript 完整实现
- 后端 Go 完整实现
- 实战可用的代码片段

### ✅ 最佳实践
- 性能优化技巧
- 安全性考虑
- 可扩展性设计

## 更新日志

**2025-10-11**：
- ✅ 创建前端架构设计文档
- ✅ 创建前端核心功能实现文档
- ✅ 创建后端架构设计文档
- ✅ 创建后端核心功能实现文档
- ✅ 按前后端分离组织文档结构
- ✅ 删除混合的 `docs/code` 目录

## 贡献文档

如需更新或补充文档，请遵循以下原则：

1. **前后端分离**：前端内容放入 `前端文档/`，后端内容放入 `后端文档/`
2. **中文编写**：所有文档使用中文
3. **包含图表**：使用 Mermaid 绘制架构图和流程图
4. **代码示例**：提供完整可运行的代码示例
5. **结构清晰**：使用合理的标题层级和章节划分

## 反馈

如有文档问题或建议，请联系开发团队或提交 Issue。
